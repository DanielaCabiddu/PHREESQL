<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PHREESQL: PHREESQL - a toolkit to efficiently compute and store geochemical speciation calculation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="phreesql-logo.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">PHREESQL
   &#160;<span id="projectnumber">..</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('index.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">PHREESQL - a toolkit to efficiently compute and store geochemical speciation calculation </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md__home_runner_work_PHREESQL_PHREESQL_README"></a> PHREESQL is a toolkit for efficiently storing and managing the huge amount of data coming from geochemical speciation computation run by PHREEQC. High efficiency in data extraction and filtering is guaranteed thanks to an relational SQL database structure. PHREESQL enables the geochemical community to explore the potentiality of huge water chemistry database and the developers to embed the code in application where unstructured meshes are involved or real-time sensors acquire a set of compositional and chemical-physical parameters. PHREESQL includes both a C++ library and a command-line interface to ease the usability of PHREESQL by geochemists with low programming skills.</p>
<p>PHREESQL is an easy-to-use framework supporting PHREEQC speciation calculations only (keyword data block SOLUTION-END), as well as performing storage and query of results. The production of a relational SQL database is the core of that toolkit. The relational database management system (RDBMS) makes it possible to permanently store in a structured framework a very large number of geochemical calculations compacting all data in a SQL binary data.</p>
<p>To guarantee usability by both developers and users with low programming expertise, PHREESQL includes both a C++ library and a command-line interface, namely PHREESQLib and PHREESQLexe respectively. Thus PHREESQL exhibits the following capabilities, being able to:</p><ul>
<li>run PHREEQC speciation calculation;</li>
<li>build a SQL database from scratch and to update an existing database with additional data;</li>
<li>export both original PHREEQC inputs and outputs from an existing database for further processing;</li>
<li>process coordinates of geo-referenced data into an existing database to create a new table or to create a new database framed into a new specific coordinate reference system (CRS).</li>
</ul>
<h1><a class="anchor" id="autotoc_md1"></a>
Workflow</h1>
<p>p align="center"&gt;<img src="./images/phreesql-workflow.png" alt="" class="inline"/></p>
<h1><a class="anchor" id="autotoc_md2"></a>
Clone</h1>
<p>The repository includes some submodules necessary to make PHREESQL work. Please, clone it recursively:</p>
<p><code>git clone --recursive <a href="https://github.com/DanielaCabiddu/PHREESQL/">https://github.com/DanielaCabiddu/PHREESQL/</a></code></p>
<h1><a class="anchor" id="autotoc_md3"></a>
Usage</h1>
<p><b>PHREESQLib</b> is an header-only C++ library having some mandatory dependences:</p>
<ul>
<li>SQlite (<a href="https://www.sqlite.org/download.html">https://www.sqlite.org/download.html</a>);</li>
<li>IPhreeQC (included as a submodule in <em>external</em>);</li>
<li>PROJ (included as a submodule in <em>external</em>);</li>
</ul>
<p>To exploit PHREESQLib in your C++ project:</p><ul>
<li>build the external dependence IPhreeQC (<em>external/iphreeqc</em>);</li>
<li>build the external dependence PROJ (<em>external/proj-osgeo</em>);</li>
<li>include PHREESQLib (<em>phreesqlib folder</em>) in your project;</li>
<li>include and link IPhreeQC and PROJ in your project;</li>
<li>link SQlite in your project.</li>
</ul>
<p><b>PHREESQLExe</b> is an example of usage, and provides the possibility to automatically perform speciation calculation and storage starting from a given dataset. The complete set of options is available <a href="https://github.com/DanielaCabiddu/PHREESQL/blob/main/docs/command_line_args.png">here</a>. PHREESQLExe can be easily built (see Building). Binaries are available <a href="https://github.com/DanielaCabiddu/PHREESQL/releases">here</a>.</p>
<h1><a class="anchor" id="autotoc_md4"></a>
Building</h1>
<h3><a class="anchor" id="autotoc_md5"></a>
Linux-Ubuntu (latest)</h3>
<p>To build PHREESQLExe, use the <em>build.sh</em> script available located in the root directory <em>ROOT</em> (where this README lies). To test it, use the <em>test.sh</em> script available in the same folder.</p>
<p><a href="https://github.com/DanielaCabiddu/PHREESQL/actions/workflows/ubuntu.yml"><img src="https://github.com/DanielaCabiddu/PHREESQL/actions/workflows/ubuntu.yml/badge.svg" alt="Linux-Ubuntu build status" style="pointer-events: none;" class="inline"/></a></p>
<h3><a class="anchor" id="autotoc_md6"></a>
MacOS (latest)</h3>
<p>To build PHREESQLExe, use the <em>build.sh</em> script available located in the root directory <em>ROOT</em> (where this README lies). To test it, use the <em>test.sh</em> script available in the same folder.</p>
<p><a href="https://github.com/DanielaCabiddu/PHREESQL/actions/workflows/macos.yml"><img src="https://github.com/DanielaCabiddu/PHREESQL/actions/workflows/macos.yml/badge.svg" alt="Mac build status" style="pointer-events: none;" class="inline"/></a></p>
<h3><a class="anchor" id="autotoc_md7"></a>
Windows (latest)</h3>
<p>Generate the Visual Studio solution via CMake and build it.</p>
<div class="fragment"><div class="line">cd ${ROOT} </div>
<div class="line">mkdir build  </div>
<div class="line">cd build</div>
<div class="line">cmake -G &quot;Visual Studio 17 2022&quot; ../phreesqlexe</div>
<div class="line">cmake --build . --parallel 8</div>
</div><!-- fragment --><p><a href="https://github.com/DanielaCabiddu/PHREESQL/actions/workflows/windows.yml"><img src="https://github.com/DanielaCabiddu/PHREESQL/actions/workflows/windows.yml/badge.svg" alt="Windows-MSVC2022 build status" style="pointer-events: none;" class="inline"/></a></p>
<h1><a class="anchor" id="autotoc_md8"></a>
Case Study</h1>
<p>Our case study is described in the paper and exploits the Ireland EPA database (<a href="https://gis.epa.ie/GetData/Download">https://gis.epa.ie/GetData/Download</a>). To guarantee replicability, data and source code of our case study is provided in the <em>example</em> folder. If you wish to replicate our case study, please run the <em>case_study.sh</em> script located located in the root directory <em>ROOT</em> (where this README lies) to create the complete set of PHREESQL databases:</p>
<p><code>${ROOT}/case_study.sh</code></p>
<p>The PHREESQL databases will be available in the <em>${ROOT}/example/DB</em> folder.</p>
<p>To run some examples of database queries and generate plots, please run the <em>${ROOT}/example/query.sh</em> script by providing the full database path (&lt;DB_PATH&gt;) of the database to be queried:</p>
<p><code>${ROOT}/example/query.sh &lt;DB_PATH&gt;</code></p>
<h1><a class="anchor" id="autotoc_md9"></a>
Authors</h1>
<ul>
<li>Daniela Cabiddu (CNR-IMATI Genova, Italy)</li>
<li>Marino Vetuschi Zuccolini (DISTAV Genova, Italy)</li>
<li>Simone Pittaluga (CNR-IMATI Genova, Italy)</li>
</ul>
<h1><a class="anchor" id="autotoc_md10"></a>
Citing Us</h1>
<p>If you use PHREESQL in your academic projects, please consider citing the library using the following BibTeX entry:</p>
<p>[BIBTEX REFERENCE AFTER PUBLICATION]</p>
<p>Submitted - UNDER REVIEW </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
